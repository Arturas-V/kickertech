const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/PremierLeague-CiNgmk8k.js","assets/js/vendor-react-DX3_zQF1.js","assets/js/vendor-Dh6Rcu0z.js","assets/js/StandingsTable-hRblOjh-.js","assets/js/domain-CSViUg-q.js","assets/StandingsTable-D47Rw-P4.css","assets/js/vendor-redux-8pmE8v99.js","assets/PremierLeague-fgpazAHn.css","assets/js/Eurobasket-w4S4Wut9.js","assets/Eurobasket-BmxlufCP.css","assets/js/Wimbledon-F4hT5n_v.js","assets/Wimbledon-CJ-vNs46.css"])))=>i.map(i=>d[i]);
import{u as _,a as N,j as s,b as l,P as w,c as L}from"./vendor-react-DX3_zQF1.js";import{j as f}from"./vendor-Dh6Rcu0z.js";import{c as O,s as A,a as M}from"./domain-CSViUg-q.js";import{c as k,a as R}from"./vendor-redux-8pmE8v99.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(n){if(n.ep)return;n.ep=!0;const c=r(n);fetch(n.href,c)}})();const B="modulepreload",C=function(e){return"/kickertech/"+e},v={},y=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let P=function(u){return Promise.all(u.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");n=P(r.map(u=>{if(u=C(u),u in v)return;v[u]=!0;const m=u.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":B,m||(d.as="script"),d.crossOrigin="",d.href=u,o&&d.setAttribute("nonce",o),document.head.appendChild(d),m)return new Promise((T,I)=>{d.addEventListener("load",T),d.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${u}`)))})}))}function c(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return n.then(i=>{for(const o of i||[])o.status==="rejected"&&c(o.reason);return t().catch(c)})},z=()=>N(),b=_,j=e=>e.tournaments.tournaments,h=f([j,(e,t)=>t],(e,t)=>e[t]||null),se=f([h],e=>{if(!e)return[];const t=O(e.participants,e.matches);return A(t)});f([h,(e,t,r)=>r],(e,t)=>{if(!e)return[];const r=new Set;return e.matches.forEach(a=>{a.homeId===t?r.add(a.awayId):a.awayId===t&&r.add(a.homeId)}),e.participants.filter(a=>a.id!==t&&!r.has(a.id))});const ae=f([h],e=>e?.participants||[]),oe=f([h],e=>e?.matches||[]);function D(){return s.jsxs("header",{className:"app-header",children:[s.jsx("h1",{children:"Sports Standings"}),s.jsx("p",{children:"Premier League • Eurobasket • Wimbledon"})]})}function F(){return s.jsx("footer",{className:"app-footer",children:s.jsx("p",{children:"Built with React + TypeScript + Redux Toolkit"})})}function W({tournaments:e,activeTournamentId:t,onSelect:r}){const[a,n]=l.useState(!1);if(e.length===0)return s.jsx("div",{className:"tournament-switcher",children:s.jsx("p",{className:"no-tournaments",children:"No tournaments available"})});const c=e.find(o=>o.id===t),i=o=>{r(o),n(!1)};return s.jsxs("div",{className:"tournament-switcher",children:[s.jsxs("button",{className:"tournament-switcher__burger",onClick:()=>n(!a),"aria-label":"Toggle tournament menu",children:[s.jsxs("span",{className:`burger-icon ${a?"open":""}`,children:[s.jsx("span",{}),s.jsx("span",{}),s.jsx("span",{})]}),s.jsx("span",{className:"burger-text",children:c?.name||"Select Tournament"})]}),s.jsx("div",{className:`tournament-tabs ${a?"open":""}`,children:e.map(o=>s.jsx("button",{className:`tournament-tab ${t===o.id?"active":""}`,onClick:()=>i(o.id),children:o.name},o.id))})]})}const $={tournaments:{}},E=k({name:"tournaments",initialState:$,reducers:{addTournament:(e,t)=>{const{id:r,name:a,type:n}=t.payload;e.tournaments[r]={id:r,name:a,type:n,participants:[],matches:[]}},addParticipant:(e,t)=>{const{tournamentId:r,participant:a}=t.payload,n=e.tournaments[r];n&&n.participants.push({...a,stats:M()})},addMatch:(e,t)=>{const{tournamentId:r,match:a}=t.payload,n=e.tournaments[r];n&&n.matches.push(a)}}}),{addTournament:g,addParticipant:ce,addMatch:ie}=E.actions,q=E.reducer;function U(){const e=z(),t=b(j);l.useEffect(()=>{Object.values(t).length===0&&(e(g({id:"premier-league",name:"Premier League",type:"team"})),e(g({id:"eurobasket",name:"Eurobasket",type:"team"})),e(g({id:"wimbledon",name:"Wimbledon",type:"player"})))},[e,t])}const V=l.lazy(()=>y(()=>import("./PremierLeague-CiNgmk8k.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),H=l.lazy(()=>y(()=>import("./Eurobasket-w4S4Wut9.js"),__vite__mapDeps([8,1,2,3,4,5,6,9]))),J=l.lazy(()=>y(()=>import("./Wimbledon-F4hT5n_v.js"),__vite__mapDeps([10,1,2,3,4,5,6,11])));function K(){U();const e=b(j),t=l.useMemo(()=>Object.values(e),[e]),[r,a]=l.useState(t[0]?.id||null);l.useEffect(()=>{!r&&t.length>0&&a(t[0].id)},[t,r]);const n=l.useMemo(()=>r?e[r]:null,[e,r]),c=l.useMemo(()=>t.map(o=>({id:o.id,name:o.name})),[t]),i=l.useCallback(()=>{if(!n)return null;switch(n.name){case"Premier League":return s.jsx(V,{tournamentId:n.id});case"Eurobasket":return s.jsx(H,{tournamentId:n.id});case"Wimbledon":return s.jsx(J,{tournamentId:n.id});default:return null}},[n]);return s.jsxs("div",{className:"app-container",children:[s.jsx(D,{}),s.jsx(W,{tournaments:c,activeTournamentId:r,onSelect:a}),s.jsx("main",{className:"app-main",children:s.jsx(l.Suspense,{fallback:s.jsx("div",{className:"loading",children:"Loading tournament..."}),children:i()})}),s.jsx(F,{})]})}const S="sports-standings-app-state";class G{load(){try{const t=localStorage.getItem(S);return t===null?null:JSON.parse(t)}catch(t){return console.error("Failed to load state from localStorage:",t),null}}save(t){try{const r=JSON.stringify(t);localStorage.setItem(S,r)}catch(r){console.error("Failed to save state to localStorage:",r)}}clear(){try{localStorage.removeItem(S)}catch(t){console.error("Failed to clear state from localStorage:",t)}}}function Y(e,t){let r;return function(...n){r!==void 0&&clearTimeout(r),r=setTimeout(()=>{e(...n)},t)}}function Q(e,t=1e3){const r=Y(a=>{e.save(a)},t);return a=>n=>c=>{const i=n(c);return r(a.getState()),i}}const x=new G,X=R({reducer:{tournaments:q},preloadedState:(()=>{try{const e=x.load();if(e)return console.log("Hydrating state from storage"),e}catch(e){console.error("Failed to load persisted state:",e)}})(),middleware:e=>e().concat(Q(x,1e3)),devTools:!1});function Z({children:e}){return s.jsx(w,{store:X,children:e})}L.createRoot(document.getElementById("root")).render(s.jsx(l.StrictMode,{children:s.jsx(Z,{children:s.jsx(K,{})})}));export{h as a,ae as b,z as c,ce as d,ie as e,se as f,oe as s,b as u};
