import{b as s,j as e}from"./vendor-react-DX3_zQF1.js";import{c as y,d as $,u as v,b as T,e as F,f as M}from"./index-AjpbxDaw.js";import{i as q,b as H}from"./domain-CSViUg-q.js";const I=s.memo(function({tournamentId:t,participantLabel:d,theme:u="clean",showFlagInput:h=!1,countriesList:n}){const p=y(),[r,g]=s.useState(""),[i,b]=s.useState(""),x=s.useCallback(l=>{l.preventDefault(),r.trim()&&(p($({tournamentId:t,participant:{id:`${t}-${Date.now()}`,name:r.trim(),...i.trim()&&{flag:i.trim()}}})),g(""),b(""))},[p,t,r,i]),f=s.useCallback(l=>{g(l.target.value)},[]),j=s.useCallback(l=>{const o=n?.find(m=>m.name===l.target.value);o&&(g(o.name),b(o.flag))},[n]),N=s.useCallback(l=>{b(l.target.value)},[]);return e.jsxs("form",{className:`add-participant-form add-participant-form--${u}`,onSubmit:x,children:[e.jsxs("h3",{children:["Add ",d]}),e.jsxs("div",{className:"form-group",children:[n?e.jsxs("select",{value:r,onChange:j,className:"form-select",required:!0,children:[e.jsxs("option",{value:"",children:["Select ",d]}),n.map(l=>e.jsxs("option",{value:l.name,children:[l.flag," ",l.name]},l.name))]}):e.jsxs(e.Fragment,{children:[h&&e.jsx("input",{type:"text",value:i,onChange:N,placeholder:"ðŸ‡«ðŸ‡·",className:"form-input form-input--flag",maxLength:4}),e.jsx("input",{type:"text",value:r,onChange:f,placeholder:`${d} Name`,className:"form-input",required:!0})]}),e.jsx("button",{type:"submit",className:"form-button",children:"Add"})]})]})}),W=s.memo(function({tournamentId:t,scoreLabel:d,theme:u="clean"}){const h=y(),n=v(a=>T(a,t)),p=v(a=>a.tournaments.tournaments[t]?.matches||[]),[r,g]=s.useState(""),[i,b]=s.useState(""),[x,f]=s.useState(""),[j,N]=s.useState(""),[l,o]=s.useState(""),m=s.useMemo(()=>n.length<2,[n.length]),w=s.useCallback(a=>{if(a.preventDefault(),o(""),!r||!i){o("Please select both participants");return}if(q(r,i)){o("A participant cannot play against itself");return}if(H(p,r,i)){o("These participants have already played");return}const _=parseInt(x),S=parseInt(j);if(isNaN(_)||isNaN(S)||_<0||S<0){o("Please enter valid scores");return}h(F({tournamentId:t,match:{id:`${t}-match-${Date.now()}`,homeId:r,awayId:i,homeScore:_,awayScore:S,playedAt:Date.now()}})),g(""),b(""),f(""),N("")},[h,t,r,i,x,j,p]),A=s.useCallback(a=>{g(a.target.value)},[]),k=s.useCallback(a=>{b(a.target.value)},[]),D=s.useCallback(a=>{f(a.target.value)},[]),P=s.useCallback(a=>{N(a.target.value)},[]);return e.jsxs("form",{className:`add-match-form add-match-form--${u}`,onSubmit:w,children:[e.jsx("h3",{children:d}),m&&e.jsx("p",{className:"form-warning",children:"Add at least 2 participants to record matches"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("select",{value:r,onChange:A,className:"form-select",disabled:m,required:!0,children:[e.jsx("option",{value:"",children:"Home Team"}),n.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsxs("select",{value:i,onChange:k,className:"form-select",disabled:m,required:!0,children:[e.jsx("option",{value:"",children:"Away Team"}),n.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{className:"form-row",children:[e.jsx("input",{type:"number",value:x,onChange:D,placeholder:"Home Score",className:"form-input",min:"0",disabled:m,required:!0}),e.jsx("input",{type:"number",value:j,onChange:P,placeholder:"Away Score",className:"form-input",min:"0",disabled:m,required:!0})]}),l&&e.jsx("p",{className:"form-error",children:l}),e.jsx("button",{type:"submit",className:"form-submit",disabled:m,children:d})]})}),C=s.memo(({participant:c,showIcons:t})=>e.jsxs("tr",{className:"standings-table__row",children:[e.jsxs("td",{className:"standings-table__cell standings-table__cell--name",children:[c.flag&&e.jsx("span",{className:"flag-emoji",children:c.flag}),c.name]}),e.jsx("td",{className:"standings-table__cell",children:c.stats.played}),e.jsxs("td",{className:"standings-table__cell",children:[c.stats.wins,t&&c.stats.wins>0?e.jsx("span",{className:"icon-success",children:"âœ“"}):null]}),!t&&e.jsx("td",{className:"standings-table__cell",children:c.stats.draws}),e.jsxs("td",{className:"standings-table__cell",children:[c.stats.losses,t&&c.stats.losses>0?e.jsx("span",{className:"icon-error",children:"âœ•"}):null]}),e.jsx("td",{className:"standings-table__cell standings-table__cell--points",children:c.stats.points})]}));C.displayName="StandingsRow";const z=s.memo(function({tournamentId:t,theme:d="clean",showIcons:u=!1}){const h=v(n=>M(n,t));return h.length===0?e.jsx("div",{className:`standings-table standings-table--${d}`,children:e.jsx("p",{className:"empty-state",children:"No participants yet. Add some to get started!"})}):e.jsx("div",{className:`standings-table standings-table--${d}`,children:e.jsxs("table",{className:"standings-table__table",children:[e.jsx("thead",{className:"standings-table__table-thead",children:e.jsxs("tr",{className:"standings-table__row",children:[e.jsx("th",{className:"standings-table__header",children:d==="table"?"Player":"Team"}),e.jsx("th",{className:"standings-table__header",children:d==="table"?"M":"P"}),e.jsx("th",{className:"standings-table__header",children:"W"}),!u&&e.jsx("th",{className:"standings-table__header",children:"D"}),e.jsx("th",{className:"standings-table__header",children:"L"}),e.jsx("th",{className:"standings-table__header",children:"Pts"})]})}),e.jsx("tbody",{className:"standings-table__table-tbody",children:h.map(n=>e.jsx(C,{participant:n,showIcons:u},n.id))})]})})});export{I as A,z as S,W as a};
